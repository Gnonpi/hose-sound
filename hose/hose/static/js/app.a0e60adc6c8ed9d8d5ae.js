webpackJsonp([1],{"0vjr":function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var o=n("VU/8")({name:"App"},a,!1,function(t){n("cGId")},null,null).exports,i=n("/ocq"),r=n("mvHQ"),l=n.n(r),c={name:"HomePage",data:function(){return{showLogin:!1}},methods:{sendLoginInfo:function(t){console.log(l()(t)),this.axios.post("http://127.0.0.1:8000/login/").then(function(t){console.log(t)}).catch(function(t){console.error(l()(t,null,2)),console.error(t)})}}},u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("link",{attrs:{rel:"stylesheet",type:"text/css",href:"static/style.css"}}),t._v(" "),n("header",[t._m(0),t._v(" "),n("nav",{staticClass:"nav nav-pills nav-fill"},[t._m(1),t._v(" "),t._m(2),t._v(" "),n("router-link",{attrs:{to:"/legals/"}},[n("button",{staticClass:"btn btn-secondary",attrs:{type:"button"}},[t._v("\n          Legal Stuff\n        ")])])],1)]),t._v(" "),n("main",[n("div",[n("p",{staticStyle:{"text-align":"center"}},[t._v("You're not currenly logged in")]),t._v(" "),n("div",{staticClass:"container text-center",attrs:{id:"not-logged-buttons"}},[t.showLogin?t._e():n("button",{staticClass:"btn btn-primary",attrs:{id:"login-button",type:"button"},on:{click:function(e){t.showLogin=!t.showLogin}}},[t._v("Login")]),t._v(" "),t.showLogin?n("form",{attrs:{method:"POST"},on:{submit:t.sendLoginInfo}},[t._m(3),t._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Login")])]):t._e(),t._v(" "),n("hr"),t._v(" "),t._m(4)])])]),t._v(" "),t._m(5)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{attrs:{href:"/"}},[e("img",{attrs:{type:"image/png",id:"img-banner",src:"/static/banner.png",alt:"banner"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"nav-link",attrs:{href:"user/signup"}},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"}},[this._v("\n          Share music now\n        ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"nav-link",attrs:{href:"/about"}},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button"}},[this._v("\n          About Hose\n        ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"username"}},[this._v("Username")]),this._v(" "),e("input",{staticClass:"form-control",attrs:{type:"text",id:"username",placeholder:"Username"}}),this._v(" "),e("small",{staticClass:"form-text text-muted",attrs:{id:"emailHelp"}},[this._v("\n                We'll never share your email with anyone else.")]),this._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"password"}},[this._v("Password")]),this._v(" "),e("input",{staticClass:"form-control",attrs:{type:"password",id:"password",placeholder:"Password"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"col",attrs:{href:"user/signup"}},[e("button",{staticClass:"btn btn-primary",attrs:{id:"signup-button",type:"button"}},[this._v("Register")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("footer",[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col",staticStyle:{"text-align":"left"}},[e("p",[this._v("Github: "),e("a",{attrs:{href:"https://github.com/Gnonpi/hose-sound/tree/master"}},[this._v("hose-sound")])]),this._v(" "),e("p",[this._v("Email: "),e("a",{attrs:{href:"legnonpi@gmail.com"}},[this._v("Gnonpi")])])]),this._v(" "),e("div",{staticClass:"col",staticStyle:{"text-align":"right"}},[e("p",[this._v("Â© Copyright Gnonpi 2019")])])])])])}]};var h=n("VU/8")(c,u,!1,function(t){n("0vjr")},"data-v-4d1306d4",null).exports,p={name:"LegalsPage",data:function(){return{legalText:null}},methods:{getLegalText:function(){var t=this;this.axios.get("http://127.0.0.1:8000/legals/").then(function(e){console.log(e),t.legalText=e.data.data.legal_text}).catch(function(t){console.error(t),console.error(l()(t,null,2))})}},mounted:function(){this.getLegalText()}},v={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n  Legal text:"+this._s(this.legalText)+"\n")])},staticRenderFns:[]};var f=n("VU/8")(p,v,!1,function(t){n("ToyO")},"data-v-25e53640",null).exports;s.a.use(i.a);var d=new i.a({routes:[{path:"/",name:"HomePage",component:h},{path:"/legals",name:"LegalsPage",component:f}]}),m=n("Rf8U"),g=n.n(m),_=n("ytdl"),b=n.n(_),y=n("mtWM"),w=n.n(y),x=n("NYxO");s.a.config.devtools=!0,s.a.config.productionTip=!1,s.a.use(g.a,w.a),s.a.use(x.a),new s.a({el:"#app",router:d,components:{App:o},template:"<App/>"}),new x.a.Store({state:{jwt:localStorage.getItem("t"),endpoints:{obtainJWT:"http://0.0.0.0:8000/auth/obtain_token",refreshJWT:"http://0.0.0.0:8000/auth/refresh_token"}},mutations:{updateToken:function(t,e){localStorage.setItem("t",e),t.jwt=e},removeToken:function(t){localStorage.removeItem("t"),t.jwt=null}},actions:{obtainToken:function(t,e){var n=this,s={username:t,password:e};w.a.post(this.state.endpoints.obtainJWT,s).then(function(t){n.commit("updateToken",t.data.token)}).catch(function(t){console.log(t)})},refreshToken:function(){var t=this,e={token:this.state.jwt};w.a.post(this.state.endpoints.refreshJWT,e).then(function(e){t.commit("updateToken",e.data.token)}).catch(function(t){console.log(t)})},inspectToken:function(){var t=this.state.jwt;if(t){var e=b()(t),n=e.exp,s=e.orig_iat;n-Date.now()/1e3<1800&&Date.now()/1e3-s<628200?this.dispatch("refreshToken"):n-Date.now()/1e3<1800||console.log("JWT token has expired")}}}})},ToyO:function(t,e){},cGId:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.a0e60adc6c8ed9d8d5ae.js.map